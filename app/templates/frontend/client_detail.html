{% include 'frontend/client_details_frontend/header.html' %}


{% block title %}{% endblock %}

{% block stylesheets %}{% endblock stylesheets %}


{% block content %}

{% include 'frontend/client_details_frontend/banner.html' %}
{% include 'frontend/client_details_frontend/navi.html' %}

<section class="offer-dedicated-body pt-2 pb-2 mt-4 mb-4">
         <div class="container">
            <div class="row">
               <div class="col-md-8">
                  <div class="offer-dedicated-body-left">
                     <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-order-online" role="tabpanel" aria-labelledby="pills-order-online-tab">
                           <div id="#menu" class="bg-white rounded shadow-sm p-4 mb-4 explore-outlets">
                              
                              
                              <h6 class="mb-3">Most Popular  <span class="badge badge-success"><i class="icofont-tags"></i> 15% Off All Items </span></h6>
                              <div class="owl-carousel owl-theme owl-carousel-five offers-interested-carousel mb-3">
                                 <div class="item">
                                    <div class="mall-category-item">
                                       <a href="#">
                                          <img class="img-fluid" src="img/list/1.png">
                                          <h6>Burgers</h6>
                                          <small>5 ITEMS</small>
                                       </a>
                                    </div>
                                 </div>
                                 
                                 
                                 
                                 
                              </div>
                           </div>
                           <div class="row">
                              
                              <div class="col-md-4 col-sm-6 mb-4">
                                 <div class="list-card bg-white h-100 rounded overflow-hidden position-relative shadow-sm">
                                    <div class="list-card-image">
                                       <div class="star position-absolute"><span class="badge badge-success"><i class="icofont-star"></i> 3.1 (300+)</span></div>
                                       <div class="favourite-heart text-danger position-absolute"><a href="#"><i class="icofont-heart"></i></a></div>
                                       <div class="member-plan position-absolute"><span class="badge badge-dark">Promoted</span></div>
                                       <a href="#">
                                       <img src="img/list/7.png" class="img-fluid item-img">
                                       </a>
                                    </div>
                                    <div class="p-3 position-relative">
                                       <div class="list-card-body">
                                          <h6 class="mb-1"><a href="#" class="text-black">Bite Me Sandwiches</a></h6>
                                          <p class="text-gray mb-2">North Indian • Indian</p>
                                          <p class="text-gray time mb-0"><a class="btn btn-link btn-sm text-black" href="#">$550 <span class="badge badge-success">NEW</span></a>  <span class="float-right"> 
                                             <a class="btn btn-outline-secondary btn-sm" href="#">ADD</a>
                                             </span>
                                          </p>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              
                              
                           </div>
                           

                           <div class="row">
                            <h5 class="mb-4 mt-3 col-md-12">Menü</h5>
                        </div>
                        
                        {% for category in categories %}
                            <!-- Überprüfen, ob die Kategorie Produkte enthält -->
                            {% if category.products | length > 0 %}
                            <div class="row">
                                <!-- Kategoriename anzeigen -->
                                <h5 class="mb-4 mt-3 col-md-12">{{ category.name }} <small class="h6 text-black-50">{{ category.products | length }} Produkt</small></h5>
                        
                                <!-- Iteriere über die Produkte der jeweiligen Kategorie -->
                                <div class="col-md-12">
                                    <div class="bg-white rounded border shadow-sm mb-4">
                                        {% for product in category.products %}
                                        <div class="menu-list p-3 border-bottom">
                                            <!-- Produkt hinzufügen Button -->
                                            <a class="btn btn-outline-secondary btn-sm float-right" href="#">ADD</a>
                                            <div class="media">
                                                <!-- Beispielbild: Ändere src, um das Produktbild anzuzeigen -->
                                                <img class="mr-3 rounded-pill" src="{{ url_for('static', filename='frontend/themes/img/5.jpg') }}" alt="{{ product.name }}">
                        
                                                <!-- Produktdetails anzeigen -->
                                                <div class="media-body">
                                                    <h6 class="mb-1">{{ product.name }}</h6>
                                                    <p class="text-gray mb-0">{{ product.price }}0 € {% if product.size %} - {{ product.size }} {% endif %}</p>

                                                </div>
                                            </div>
                                        </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                        {% endfor %}
                        

                           
                        </div>
                        <div class="tab-pane fade" id="pills-gallery" role="tabpanel" aria-labelledby="pills-gallery-tab">
                            <div id="gallery" class="bg-white rounded shadow-sm p-4 mb-4">
                                <div class="restaurant-slider-main position-relative homepage-great-deals-carousel">
                                    <div class="owl-carousel owl-theme homepage-ad">
                                        {% if client.galerie_images | length > 0 %}
                                            {% for image in client.galerie_images %}
                                                <div class="item">
                                                    <img src="{{ url_for('static', filename=image.image.replace('\\', '/')) }}" style="max-height: 400px; object-fit: cover;" class="img-fluid" alt="Galerie Bild">
                                                </div>
                                            {% endfor %}
                                        {% else %}
                                            <p>Keine Galerie-Bilder verfügbar.</p>
                                        {% endif %}
                                    </div>
                        
                                    <!-- Anzeige der Bildanzahl -->
                                    {% if client.galerie_images | length > 0 %}
                                    <div class="position-absolute restaurant-slider-pics bg-dark text-white">
                                        {{ 1 }} von {{ client.galerie_images | length }} Fotos
                                    </div>
                                    {% endif %}
                                    <div class="position-absolute restaurant-slider-view-all">
                                        <button type="button" class="btn btn-light bg-white">See all Photos</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-pane fade" id="pills-restaurant-info" role="tabpanel" aria-labelledby="pills-restaurant-info-tab">
                            <div id="restaurant-info" class="bg-white rounded shadow-sm p-4 mb-4">
                                <!-- Dynamische Google Maps URL mit der Adresse des Clients -->
                                <div class="address-map float-right ml-5">
                                    <div class="mapouter">
                                        <div class="gmap_canvas">
                                            <iframe width="300" height="170" id="gmap_canvas"
                                                src="https://maps.google.com/maps?q={{ client.address | urlencode }}&t=&z=15&ie=UTF8&iwloc=&output=embed"
                                                frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>
                                        </div>
                                    </div>
                                </div>
                                <h5 class="mb-4">Restaurant Info</h5>
                                <p class="mb-3">
                                    {{ client.address }}<br>
                                    {{ client.city }}, {{ client.state }} - {{ client.postal_code }}
                                </p>
                                <p class="mb-2 text-black">
                                    <i class="icofont-phone-circle text-primary mr-2"></i> {{ client.phone_1 }}, {{ client.phone_2 }}
                                </p>
                                <p class="mb-2 text-black">
                                    <i class="icofont-email text-primary mr-2"></i> {{ client.email_1 }}, {{ client.email_2 }}
                                </p>
                                <p class="mb-2 text-black">
                                    <i class="icofont-clock-time text-primary mr-2"></i> Heute: {{ client.opening_hours }}
                                    {% if client.is_open %}
                                        <span class="badge badge-success"> OPEN NOW </span>
                                    {% else %}
                                        <span class="badge badge-danger"> CLOSED </span>
                                    {% endif %}
                                </p>
                                <hr class="clearfix">
                                <p class="text-black mb-0">
                                    Sie können auch die 3D-Ansicht durch unsere Menükarte sehen, indem Sie hier klicken &nbsp;&nbsp;&nbsp; 
                                    <a class="text-info font-weight-bold" href="{{ client.venue_map_url }}" target="_blank">Venue Map</a>
                                </p>
                                <hr class="clearfix">
                                <h5 class="mt-4 mb-4">Mehr Info</h5>
                                <p class="mb-3">
                                    {{ client.specialities }}
                                </p>
                                <div class="border-btn-main mb-4">
                                    <!-- Dynamische Buttons für Client-Eigenschaften -->
                                    {% for feature in client.features %}
                                        <a class="border-btn text-{{ 'success' if feature.is_available else 'danger' }} mr-2" href="#">
                                            <i class="icofont-{{ 'check-circled' if feature.is_available else 'close-circled' }}"></i> 
                                            {{ feature.name }}
                                        </a>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-pane fade" id="pills-book" role="tabpanel" aria-labelledby="pills-book-tab">
                           <div id="book-a-table" class="bg-white rounded shadow-sm p-4 mb-5 rating-review-select-page">
                              <h5 class="mb-4">Book A Table</h5>
                              <form>
                                 <div class="row">
                                    <div class="col-sm-6">
                                       <div class="form-group">
                                          <label>Full Name</label>
                                          <input class="form-control" type="text" placeholder="Enter Full Name">
                                       </div>
                                    </div>
                                    <div class="col-sm-6">
                                       <div class="form-group">
                                          <label>Email Address</label>
                                          <input class="form-control" type="text" placeholder="Enter Email address">
                                       </div>
                                    </div>
                                 </div>
                                 <div class="row">
                                    <div class="col-sm-6">
                                       <div class="form-group">
                                          <label>Mobile number</label>
                                          <input class="form-control" type="text" placeholder="Enter Mobile number">
                                       </div>
                                    </div>
                                    <div class="col-sm-6">
                                       <div class="form-group">
                                          <label>Date And Time</label>
                                          <input class="form-control" type="text" placeholder="Enter Date And Time">
                                       </div>
                                    </div>
                                 </div>
                                 <div class="form-group text-right">
                                    <button class="btn btn-primary" type="button"> Submit </button>
                                 </div>
                              </form>
                           </div>
                        </div>
                        <div class="tab-pane fade" id="pills-reviews" role="tabpanel" aria-labelledby="pills-reviews-tab">
                           <div id="ratings-and-reviews" class="bg-white rounded shadow-sm p-4 mb-4 clearfix restaurant-detailed-star-rating">
                              <span class="star-rating float-right">
                              <a href="#"><i class="icofont-ui-rating icofont-2x active"></i></a>
                              <a href="#"><i class="icofont-ui-rating icofont-2x active"></i></a>
                              <a href="#"><i class="icofont-ui-rating icofont-2x active"></i></a>
                              <a href="#"><i class="icofont-ui-rating icofont-2x active"></i></a>
                              <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                              </span>
                              <h5 class="mb-0 pt-1">Rate this Place</h5>
                           </div>
                           <div class="bg-white rounded shadow-sm p-4 mb-4 clearfix graph-star-rating">
                              <h5 class="mb-0 mb-4">Ratings and Reviews</h5>
                              <div class="graph-star-rating-header">
                                 <div class="star-rating">
                                    <a href="#"><i class="icofont-ui-rating active"></i></a>
                                    <a href="#"><i class="icofont-ui-rating active"></i></a>
                                    <a href="#"><i class="icofont-ui-rating active"></i></a>
                                    <a href="#"><i class="icofont-ui-rating active"></i></a>
                                    <a href="#"><i class="icofont-ui-rating"></i></a>  <b class="text-black ml-2">334</b>
                                 </div>
                                 <p class="text-black mb-4 mt-2">Rated 3.5 out of 5</p>
                              </div>
                              <div class="graph-star-rating-body">
                                 <div class="rating-list">
                                    <div class="rating-list-left text-black">
                                       5 Star
                                    </div>
                                    <div class="rating-list-center">
                                       <div class="progress">
                                          <div style="width: 56%" aria-valuemax="5" aria-valuemin="0" aria-valuenow="5" role="progressbar" class="progress-bar bg-primary">
                                             <span class="sr-only">80% Complete (danger)</span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="rating-list-right text-black">56%</div>
                                 </div>
                                 <div class="rating-list">
                                    <div class="rating-list-left text-black">
                                       4 Star
                                    </div>
                                    <div class="rating-list-center">
                                       <div class="progress">
                                          <div style="width: 23%" aria-valuemax="5" aria-valuemin="0" aria-valuenow="5" role="progressbar" class="progress-bar bg-primary">
                                             <span class="sr-only">80% Complete (danger)</span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="rating-list-right text-black">23%</div>
                                 </div>
                                 <div class="rating-list">
                                    <div class="rating-list-left text-black">
                                       3 Star
                                    </div>
                                    <div class="rating-list-center">
                                       <div class="progress">
                                          <div style="width: 11%" aria-valuemax="5" aria-valuemin="0" aria-valuenow="5" role="progressbar" class="progress-bar bg-primary">
                                             <span class="sr-only">80% Complete (danger)</span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="rating-list-right text-black">11%</div>
                                 </div>
                                 <div class="rating-list">
                                    <div class="rating-list-left text-black">
                                       2 Star
                                    </div>
                                    <div class="rating-list-center">
                                       <div class="progress">
                                          <div style="width: 2%" aria-valuemax="5" aria-valuemin="0" aria-valuenow="5" role="progressbar" class="progress-bar bg-primary">
                                             <span class="sr-only">80% Complete (danger)</span>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="rating-list-right text-black">02%</div>
                                 </div>
                              </div>
                              <div class="graph-star-rating-footer text-center mt-3 mb-3">
                                 <button type="button" class="btn btn-outline-primary btn-sm">Rate and Review</button>
                              </div>
                           </div>
                           <div class="bg-white rounded shadow-sm p-4 mb-4 restaurant-detailed-ratings-and-reviews">
                              <a href="#" class="btn btn-outline-primary btn-sm float-right">Top Rated</a>
                              <h5 class="mb-1">All Ratings and Reviews</h5>
                              
                              <hr>
                              <div class="reviews-members pt-4 pb-4">
                                 <div class="media">
                                    <a href="#"><img alt="Generic placeholder image" src="img/user/6.png" class="mr-3 rounded-pill"></a>
                                    <div class="media-body">
                                       <div class="reviews-members-header">
                                          <span class="star-rating float-right">
                                          <a href="#"><i class="icofont-ui-rating active"></i></a>
                                          <a href="#"><i class="icofont-ui-rating active"></i></a>
                                          <a href="#"><i class="icofont-ui-rating active"></i></a>
                                          <a href="#"><i class="icofont-ui-rating active"></i></a>
                                          <a href="#"><i class="icofont-ui-rating"></i></a>
                                          </span>
                                          <h6 class="mb-1"><a class="text-black" href="#">Gurdeep Singh</a></h6>
                                          <p class="text-gray">Tue, 20 Mar 2020</p>
                                       </div>
                                       <div class="reviews-members-body">
                                          <p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English.</p>
                                       </div>
                                       <div class="reviews-members-footer">
                                          <a class="total-like" href="#"><i class="icofont-thumbs-up"></i> 88K</a> <a class="total-like" href="#"><i class="icofont-thumbs-down"></i> 1K</a> 
                                         
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <hr>
                              <a class="text-center w-100 d-block mt-4 font-weight-bold" href="#">See All Reviews</a>
                           </div>
                           <div class="bg-white rounded shadow-sm p-4 mb-5 rating-review-select-page">
                              <h5 class="mb-4">Leave Comment</h5>
                              <p class="mb-2">Rate the Place</p>
                              <div class="mb-4">
                                 <span class="star-rating">
                                 <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                                 <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                                 <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                                 <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                                 <a href="#"><i class="icofont-ui-rating icofont-2x"></i></a>
                                 </span>
                              </div>
                              <form>
                                 <div class="form-group">
                                    <label>Your Comment</label>
                                    <textarea class="form-control"></textarea>
                                 </div>
                                 <div class="form-group">
                                    <button class="btn btn-primary btn-sm" type="button"> Submit Comment </button>
                                 </div>
                              </form>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-md-4">
                  <div class="pb-2">
				  <div class="bg-white rounded shadow-sm text-white mb-4 p-4 clearfix restaurant-detailed-earn-pts card-icon-overlap">
                     <img class="img-fluid float-left mr-3" src="img/earn-score-icon.png">
                     <h6 class="pt-0 text-primary mb-1 font-weight-bold">OFFER</h6>
                     <p class="mb-0">60% off on orders above $99 | Use coupon <span class="text-danger font-weight-bold">OSAHAN50</span></p>
                     <div class="icon-overlap">
                        <i class="icofont-sale-discount"></i>
                     </div>
                  </div>
				  </div>
                  <div class="generator-bg rounded shadow-sm mb-4 p-4 osahan-cart-item">
                     <h5 class="mb-1 text-white">Your Order</h5>
                     <p class="mb-4 text-white">6 ITEMS</p>
                     <div class="bg-white rounded shadow-sm mb-2">
                        <div class="gold-members p-2 border-bottom">
                           <p class="text-gray mb-0 float-right ml-2">$314</p>
                           <span class="count-number float-right">
                           <button class="btn btn-outline-secondary  btn-sm left dec"> <i class="icofont-minus"></i> </button>
                           <input class="count-number-input" type="text" value="1" readonly="">
                           <button class="btn btn-outline-secondary btn-sm right inc"> <i class="icofont-plus"></i> </button>
                           </span>
                           <div class="media">
                              <div class="mr-2"><i class="icofont-ui-press text-danger food-item"></i></div>
                              <div class="media-body">
                                 <p class="mt-1 mb-0 text-black">Chicken Tikka Sub</p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="mb-2 bg-white rounded p-2 clearfix">
                        <img class="img-fluid float-left" src="img/wallet-icon.png">
                        <h6 class="font-weight-bold text-right mb-2">Subtotal : <span class="text-danger">$456.4</span></h6>
                        <p class="seven-color mb-1 text-right">Extra charges may apply</p>
                        <p class="text-black mb-0 text-right">You have saved $955 on the bill</p>
                     </div>
                     <a href="checkout.html" class="btn btn-success btn-block btn-lg">Checkout <i class="icofont-long-arrow-right"></i></a>
                  </div>
				  
				  <div class="text-center pt-2 mb-4">
				  
				  </div>
				  <div class="text-center pt-2">
				  
				  </div>
               </div>
            </div>
         </div>
      </section>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-8">
            <h2>{{ client.clientname }}</h2>
            <!-- Client-Logo/Foto -->
            <img src="{% if client.photo %}{{ url_for('static', filename=client.photo.replace('\\', '/')) }}{% else %}{{ url_for('static', filename='frontend/themes/img/list/1.png') }}{% endif %}" class="img-fluid mb-4" alt="{{ client.clientname }}">

            <p class="mt-3"><strong>Adresse:</strong> {{ client.street }} {{ client.house_number }}, {{ client.city }} - {{ client.postal_code }}</p>
            <p><strong>Telefonnummer:</strong> {{ client.phone_number }}</p>
            
            <!-- Öffnungszeiten anzeigen, falls vorhanden -->
            {% if client.opening_hours|length > 0 %}
                <h4>Öffnungszeiten</h4>
                <ul>
                    {% for opening_hour in client.opening_hours %}
                        <li>{{ opening_hour.day_of_week }}: {{ opening_hour.open_time.strftime('%H:%M') }} - {{ opening_hour.close_time.strftime('%H:%M') }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p><strong>Öffnungszeiten:</strong> Keine Angaben</p>
            {% endif %}
            
            <!-- Galerie-Bilder anzeigen -->
            
            
            <!-- Bewertungen anzeigen, falls vorhanden -->
            <h4>Bewertungen</h4>
            {% if ratings|length > 0 %}
                <ul class="list-unstyled">
                    {% for rating in ratings %}
                        <li class="mb-3">
                            <strong>{{ rating.user.username }}</strong> 
                            <span class="badge badge-info">{{ rating.rating }} Sterne</span>
                            <p>{{ rating.comment }}</p>
                            <small class="text-muted">{{ rating.created_at.strftime('%d.%m.%Y %H:%M') }}</small>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Keine Bewertungen verfügbar.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock content %}

{% include 'frontend/client_details_frontend/footer.html' %}

{% block javascripts %}{% endblock javascripts %}
